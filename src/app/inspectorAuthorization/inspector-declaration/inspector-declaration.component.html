<app-header></app-header>
<div class="content-wrapper">
  <div class="container-fluid">
    <div class="add-bg-here">

      <div class="add-container-viewcommon">
        <div class="add-breadcrames">
          <ol class="breadcrumb">
            <li class="breadcrumb-item">
              <a href="#">Home </a>
            </li>
            <li class="breadcrumb-item active">Inspector Declaration</li>
          </ol>
        </div>
      </div>

      <div class="main-view">
        <h4>Inspector Declaration</h4>

        <div class="new-inspector row mt-5">
          <div class="form-group col-md-3">
            <label>New User: </label>
            <select [(ngModel)]="SelUserId" class="form-control col-md-12">
              <option [value]="1">Select user</option>
              <option [value]="user.id" *ngFor="let user of userList">{{user.userFullName}}</option>
            </select>
          </div>
          <div class="form-group col-md-1 mt-4 pt-2 pr-0">
            <button class="btn btn-sm btn-primary p-0 m-0" data-toggle="modal" data-target="#new-trade-user">Assign
              Projects</button>

            <div class="modal fade" id="new-trade-user" tabindex="-1" role="dialog"
              aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
              <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">Projects</h5>
                    <button type="button" class="close" #closebutton data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body">
                    <div *ngIf="isProjectLoad; then newTradeThen else newTradeElse"></div>
                    <ng-template #newTradeThen>
                      <div class="userdeailsload">
                        <div class="spinner-border text-warning" role="status">
                        </div>
                      </div>
                    </ng-template>
                    <ng-template #newTradeElse>
                      <div class="form-check col-md-12" *ngFor="let project of products">
                        <input class="form-check-input" (change)="addToProjectList($event)" type="checkbox"
                          [value]="project.projectId" id="flexCheckDefault">
                        <label class="form-check-label" for="flexCheckDefault">
                          {{project.projectName}}
                        </label>
                      </div>
                    </ng-template>
                  </div>
                  <div class="modal-footer">
                    <button class="btn btn-sm btn-success" (click)="saveAssignProjects()">Save</button>
                  </div>

                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="inspector-list mt-5">
          <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" id="customers"
            class="row-border hover inspector_list_table" style="width:100%">
            <thead>
              <tr>
                <th>Sr no</th>
                <th>User Name</th>
                <th>Status</th>
                <th>Date</th>
                <th>Declaration</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let user of declarationUserList">
                <td>1</td>
                <td [title]="user.userId">{{user.username ? user.username : ''}}</td>
                <td>
                  <span class="badge badge-primary">New</span>
                </td>
                <td>{{user.trainingDate ? user.trainingDate : 'not specified'}}</td>
                <td>
                  <button class="btn btn-sm btn-dark m-0" data-toggle="modal"
                    data-target="#declaration-view">View</button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>


  <!-- MODALS -->

  <!-- declaration view modal DTM site -->
  <div class="modal fade" id="declaration-view" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
    aria-hidden="true">
    <div class="modal-dialog modal-fullscreen w-100 h-100 modal-full" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLongTitle">Declaration (USer name)</h5>
          <button type="button" class="close" #closebutton data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body modal-full-body">


          <div class="declaration-from-main" id="table">
            <div class="declaration-from-content">
              <div class="form-heading">
                <h2>Declaration Form</h2>
                <img src="assets/images/cqra-logo-s-1.png" alt="logo">
              </div>

              <div class="form-heading mt-2">
                <h5>Team Declaration</h5>
                <h5>Date: 24/02/2024</h5>
              </div>

              <div class="form-heading mt-2">
                <h5>User Name:  SUJIT S. SHENDEKAR</h5>
              </div>

              <div class="mt-2">
                <p>We the following members hereby declare that we and our blood relatives had/have no
                  formal/informal/personal role/relationship with the above-mentioned construction project in any form
                  with
                  respect to its design, manufacture / construction, supply, installation, purchase, ownership and use
                  or
                  maintenance of the items being inspected</p>

                <p>We confirm that we have not inspected this project for another contractor service provider to client
                  for
                  last three moriths</p>

                <p>We shall not accept any kind of gift/inducement in any manner from client/contractor</p>

                <p>We are committed to follow Impartiality during inspection and are committed to maintain
                  confidentiality of
                  all information obtained or created during the inspection</p>

                <p>We confirm to have no current association as well as no past association for last two years with
                  client
                  /Vendor /Supplier/contractor/Service provider to client of this project</p>
              </div>

              <table class="table table-bordered mt-3">
                <thead>
                  <tr>
                    <th scope="col">Sr no</th>
                    <th scope="col">Client Name</th>
                    <th scope="col">Project Name</th>
                    <th scope="col">Approve </th>
                    <th scope="col">Signature</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <th scope="row">1</th>
                    <td>Mark</td>
                    <td>Otto</td>
                    <td>
                      <div>
                        <span class="badge badge-secondary mx-1" [title]="1" role="button" (click)="toggleComment(1,'show')">Accept</span>
                        
                        <span class="badge badge-secondary mx-1" [title]="0" role="button" (click)="toggleComment(1,'show')">Decline</span>

                        <div class="comment-box comment-box-1 comment-box-hide">
                          <input type="text" placeholder="comment..">
                          <button class="badge badge-secondary" role="button"
                            (click)="toggleComment(1, 'hide')">Close</button>
                        </div>
                      </div>
                    </td>
                    <td>@mdo</td>
                  </tr>
                  <!-- <tr>
                    <th scope="row">1</th>
                    <td>Mark</td>
                    <td>Otto</td>
                    <td>
                      <div>
                        <span class="badge badge-secondary mx-1" role="button" (click)="toggleComment(2,'show')">Accept</span>
                        
                        <span class="badge badge-secondary mx-1" role="button" (click)="toggleComment(2,'show')">Decline</span>

                        <div class="comment-box comment-box-2 comment-box-hide">
                          <input type="text" placeholder="comment..">
                          <button class="badge badge-secondary" role="button"
                            (click)="toggleComment(2, 'hide')">Close</button>
                        </div>

                      </div>
                    </td>
                    <td>@mdo</td>
                  </tr> -->
                </tbody>
              </table>

              <div class="mt-3">
                <h5>Review</h5>

                <p>Whether involved in any other service for this project giving solutions to specific defects-(Yes/No)
                </p>

                <p>Whether qualified and competent to carry out inspection for this project as per authorization matrix
                  (Yes/
                  No)</p>
              </div>

              <div class="mt-5">
                <p>(Sign of Technical Manager/Director)</p>
              </div>

            </div>

          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-sm btn-success">Save</button>
        </div>
      </div>
    </div>
  </div>



  <app-footer></app-footer>