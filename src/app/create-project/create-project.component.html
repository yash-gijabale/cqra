<app-header></app-header>

<div class="content-wrapper">
    <div class="container-fluid ">
      <div class="add-bg-here">
        <div class="add-container-viewcommon">
         <div class="add-breadcrames">
            <ol class="breadcrumb">
              <li class="breadcrumb-item">
                <a href="#">Home </a>
              </li>
              <li class="breadcrumb-item active">Create Project</li>
            </ol>
         </div>
          <div class="right-side-create-view">
               <div class="create-content-operations">
                 <button type="button"> <a routerLink="/project">Manage Project </a> </button>
               </div>
            </div>
          </div>
         <div class="main-header_createview">
            <div class="left-side-header">
                <div class="create-content-header">
                  <h1> Create Project </h1>
                </div>
            </div>
         </div>
         <div class="create-viewform">
          <form [formGroup]="projectForm" (ngSubmit)="onSubmit()">
            <div class="form-group">
              <label>Client Name</label>
              <select  [(ngModel)]="SelClientId" formControlName="clientId"  > 
                <option  [value]="0">Please Select</option>
                <option [value]="o.clientId" *ngFor="let o of clients">
                   {{o.clientName}}
                </option>
            </select>
              <div *ngIf="submitted && f.clientId.errors" class="invalid-feedback">
                  <div *ngIf="f.clientId.errors.required">Client Name is required</div>
              </div>
          </div>
            <div class="form-group">
                <label>project Name</label>
                <input type="text" formControlName="projectName" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.projectName.errors }" />
                <div *ngIf="submitted && f.projectName.errors" class="invalid-feedback">
                    <div *ngIf="f.projectName.errors.required">Project Name is required</div>
                </div>
            </div>
            <div class="form-group">
                <label>Project Code</label>
                <input type="text" formControlName="projectCode" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.projectCode.errors }" />
                <div *ngIf="submitted && f.projectCode.errors" class="invalid-feedback">
                    <div *ngIf="f.projectCode.errors.required">Project Code is required</div>
                </div>
            </div>
            <div class="form-group">
                <label>Address</label>
                <input type="text" formControlName="projectAddress" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.projectAddress.errors }" />
                <div *ngIf="submitted && f.projectAddress.errors" class="invalid-feedback">
                    <div *ngIf="f.projectAddress.errors.required">Address is required</div>
                </div>
            </div>
            <div class="form-group">
              <label>Project City</label>
              <input type="text" formControlName="projectCity" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.projectCity.errors }" />
              <div *ngIf="submitted && f.projectCity.errors" class="invalid-feedback">
                  <div *ngIf="f.projectCity.errors.required">Project City is required</div>
              </div>
          </div>
            <div class="form-group">
                <label>K value</label>
                <input type="text" formControlName="projectKValue" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.projectKValue.errors }" />
                <div *ngIf="submitted && f.projectKValue.errors" class="invalid-feedback">
                    <div *ngIf="f.projectKValue.errors.required">K value is required</div>
                </div>
            </div>
            <div class="form-group">
              <label>Project Regional Manager</label>
              <input type="text" formControlName="projectRegionalManagerId" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.projectRegionalManagerId.errors }" />
              <div *ngIf="submitted && f.projectRegionalManagerId.errors" class="invalid-feedback">
                  <div *ngIf="f.projectRegionalManagerId.errors.required">Regional Manager is required</div>
              </div>
          </div>
          <div class="form-group">
            <label>Project Start Date</label>
            <input type="date" formControlName="projectStartDate" ng-model="date"  class="form-control" [ngClass]="{ 'is-invalid': submitted && f.projectStartDate.errors }" />
            <div *ngIf="submitted && f.projectStartDate.errors" class="invalid-feedback">
                <div *ngIf="f.projectStartDate.errors.required">Start Date is required</div>
            </div>
        </div>

        <div class="form-group">
          <label>Project End Date</label>
          <input type="date" formControlName="projectEndDate" ng-model="date" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.projectEndDate.errors }" />
          <div *ngIf="submitted && f.projectEndDate.errors" class="invalid-feedback">
              <div *ngIf="f.projectEndDate.errors.required">End Date is required</div>
          </div>
      </div>

      <div class="form-group">
        <label>MIS</label>
        <select  [(ngModel)]="SelMisId" formControlName="projectMisNCs"> 
          <option  [value]="0">Please Select</option>
          <option  [value]="1">Mild and above</option>
          <option  [value]="2">Moderate and above</option>
          <option  [value]="3">Severe and above</option>
          <option  [value]="4">Very severe and above</option>
          <option  [value]="5">Critical</option>
      </select>
        <div *ngIf="submitted && f.projectMisNCs.errors" class="invalid-feedback">
            <div *ngIf="f.projectMisNCs.errors.required">Mis is required</div>
        </div>
    </div>

    <div class="form-group">
      <label>NC Open</label>
      <select  [(ngModel)]="SelNCId" formControlName="projectNCOpen" (change)="FillRedAlertDDL();"> 
        <option  [value]="0">Please Select</option>
        <option  [value]="1">Mild and above</option>
        <option  [value]="2">Moderate and above</option>
        <option  [value]="3">Severe and above</option>
        <option  [value]="4">Very severe and above</option>
        <option  [value]="5">Critical</option>
    </select>
      <div *ngIf="submitted && f.projectNCOpen.errors" class="invalid-feedback">
          <div *ngIf="f.projectNCOpen.errors.required">Nc open is required</div>
      </div>
  </div>

  <div class="form-group">
    <label>Red Alert</label>
    <select  [(ngModel)]="SelRedAlert" formControlName="projectRedalert"  > 
      <option  [value]="0">Please Select</option>
      <option [value]="o.value" *ngFor="let o of redAlerts">
         {{o.name}}
      </option>
  </select>
    <div *ngIf="submitted && f.projectRedalert.errors" class="invalid-feedback">
        <div *ngIf="f.projectRedalert.errors.required">Red alert is required</div>
    </div>
</div>

<div class="form-group">
  <label>CC Email</label>
  <input type="text" formControlName="projectCCmails" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.projectCCmails.errors }" />
  <div *ngIf="submitted && f.projectCCmails.errors" class="invalid-feedback">
      <div *ngIf="f.projectCCmails.errors.required">Project CC list is required</div>
  </div>
</div>

<div class="form-group">
  <label>NC Open & Mail</label>
  <input type="checkbox" formControlName="projectAutoNCOpen" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.projectAutoNCOpen.errors }" />
  <div *ngIf="submitted && f.projectAutoNCOpen.errors" class="invalid-feedback">
      <div *ngIf="f.projectAutoNCOpen.errors.required">NC open & Email is required</div>
  </div>
</div>

<div class="form-group">
  <label>Auto NC Open</label>
  <input type="checkbox" formControlName="projectAutoNCOpenWithEmail" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.projectAutoNCOpenWithEmail.errors }" />
  <div *ngIf="submitted && f.projectAutoNCOpenWithEmail.errors" class="invalid-feedback">
      <div *ngIf="f.projectAutoNCOpenWithEmail.errors.required">Auto NC open is required</div>
  </div>
</div>
            <div class="form-group">
                <button class="btn btn-primary">Save</button>
            </div>
        </form>
         </div>
      </div>
    </div>
<app-footer></app-footer>