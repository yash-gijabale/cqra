<app-header></app-header>
<div class="content-wrapper">
  <div class="container-fluid">
    <div class="add-bg-here">
      <div class="add-container-viewcommon">
        <div class="main-header_createview">
          <div class="left-side-header">
            <div class="create-content-header">
              <h1> Manage Minute Of Meeting</h1>

            </div>
          </div>

          <div class="right-side-create-view ">
            <div class="create-content-operations">
              <!-- <a routerLink="/create-quality-procedure-amendment/-1"> -->
              <a routerLink="/create-minutes-of-meeting/-1">
                <button type="button"> Create Minute Of Meeting Report </button>
              </a>
            </div>
          </div>
        </div>
      </div>

      <div *ngIf="isLoading; then thenBlock"></div>
      <ng-template #thenBlock>
        <app-loader></app-loader>
      </ng-template>
      <div class="row m-0">
        <div class="col-xl-12 col-sm-12 mb-3">
          <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" id="customers" class="row-border hover"
            style="width:100%">
            <thead>
              <tr>
                <th>MOM Number</th>
                <th>Client</th>
                <th>Project</th>
                <th>Type Of Meeting</th>
                <th>Meeting Loaction</th>
                <th>Actions</th>
                <th>Add Point</th>
                <th>View Report</th>
                <th>Mail Report</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let report of momReports">
                <td>{{report.momNo}}</td>
                <td>{{report.clientName}}</td>
                <td>{{report.projectName}}</td>
                <td>{{report.typeOfMeeting}}</td>
                <td>{{report.meetingLocation}}</td>
                <td><a [routerLink]="'/create-minutes-of-meeting/'+report.schemeMomId"><i class="fa fa-pencil" aria-hidden="true"></i></a></td>
                <td>
                  <a [routerLink]="'/scheme-mom-reports/'+report.chemeMomId"><i class="fa fa-plus-circle" aria-hidden="true"></i></a>
                </td>
                <td>
                  <span *ngIf="!reportLoad[report.schemeMomId]" role="button" (click)="generateReport(report.schemeMomId)"><i class="fa fa-search" aria-hidden="true"></i></span>
                  <span *ngIf="reportLoad[report.schemeMomId] && reportLoad[report.schemeMomId].load" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                  <span *ngIf="reportLoad[report.schemeMomId] && reportLoad[report.schemeMomId].url != ''">View</span>
                  <span *ngIf="reportLoad[report.schemeMomId] && reportLoad[report.schemeMomId].error" class="badge badge-damger">Fail</span>
                </td>
                <td><a href=""><i class="fa fa-envelope" aria-hidden="true"></i></a>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <!-- Example DataTables Card-->
    </div>
  </div>
  <app-footer></app-footer>